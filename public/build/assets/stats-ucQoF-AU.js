import{r as x,a as l,j as e}from"./app-CXkwrx2z.js";import{A as b}from"./avatar.esm-Cf1q7p5O.js";import{P as v}from"./chart.esm-BsNKdf2I.js";import{C as u}from"./confirmdialog.esm-D42abhPZ.js";import{U as y}from"./users-H84AFNiX.js";import{C as w}from"./circle-check-big-CK8_BEGp.js";import{C}from"./circle-x-BcirFenG.js";import{C as k}from"./calendar-BQ7UQIpR.js";import{C as i}from"./clock-C0m_drii.js";import{M as z}from"./map-pin-DEhTV09D.js";import{F as D}from"./file-text-DdY0z334.js";import{C as A}from"./calendar-days-DGJTBbiU.js";/* empty css            */import"./button.esm-DvmEpb_E.js";import"./dialog.esm-TmtFGWcy.js";import"./overlayservice.esm-CAt8ic7j.js";import"./createLucideIcon-BSwCbtcP.js";const q=({meeting:a,attendances:r,schedule:n})=>{const d=r.length,t=r.filter(s=>s.attend!==null).length,c=d-t,m=r.filter(s=>s.attend!==null),[h,P]=x.useState("Hadir");x.useEffect(()=>{l.reload({attendances:r});const s=setInterval(()=>{l.reload({attendances:r})},5e3);return()=>clearInterval(s)},[]);const g={labels:["Hadir","Belum Hadir"],datasets:[{data:[t,c],backgroundColor:["#10b981","#f97316"],hoverBackgroundColor:["#059669","#ea580c"]}]},p={plugins:{legend:{position:"bottom"}}},j=()=>{switch(h){case"Hadir":return"Presensi Terakhir";case"Belum":return"Belum hadir";default:return"Semua Peserta"}};return e.jsxs("div",{className:"p-6",children:[e.jsx(u,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col gap-y-6",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Visualisasi Kehadiran"}),e.jsx(v,{type:"doughnut",data:g,options:p})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(y,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Peserta"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:d})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(w,{className:"text-emerald-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Sudah Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(C,{className:"text-orange-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Belum Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:c})]})]})})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{onClick:()=>l.get("/admin/kegiatan"),className:"mb-6 cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(k,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Tanggal"}),e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(i,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Waktu"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[a.start_time.slice(0,5)," - ",a.end_time.slice(0,5)]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-gray-800",children:a.room})]})]})]}),a.description&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"mt-1 text-gray-500",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Deskripsi"}),e.jsx("p",{className:"text-gray-800",children:a.description})]})]})})]}),m.length>0&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"mb-4 flex justify-between gap-2 text-lg font-semibold text-gray-800",children:e.jsxs("h3",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"text-purple-600",size:20}),j()]})}),e.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto pr-2",children:m.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{label:s.name.charAt(0),size:"normal",shape:"circle",className:"bg-emerald-600 text-white"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.office.type," ",s.office.name]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:s.attend.slice(0,5)})})]},s.id))})]})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"max-h-screen overflow-y-scroll rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:n.map((s,N)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:s.date})]}),e.jsx("div",{className:"mb-6 space-y-2",children:s.activities.map((o,f)=>e.jsxs("div",{className:"pl-8",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:o.name}),e.jsx("div",{className:"mt-2 flex flex-col gap-4 text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{className:"h-4 w-4"}),e.jsx("span",{children:o.time})]})})]},f))})]},N))})})]})]})};export{q as default};
