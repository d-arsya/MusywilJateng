import{r,j as e,a as L}from"./app-CDoqvrB_.js";import{A as P}from"./admin-CKXe-yBX.js";import{B as l,I as g,D as E,C as i}from"./datatable.esm-BryucHDz.js";import{C as H,D as K,c as I}from"./confirmdialog.esm-BgFSz5f6.js";import{c as O}from"./createLucideIcon-LAJ5KBlG.js";import{D as p,P as U}from"./plus-C1nbWz3q.js";import{U as o}from"./users-BFOm1zZ8.js";import{S as V}from"./search-BflZtzIn.js";import{P as F,T as J}from"./trash-2-BnzbNZMq.js";/* empty css            */import"./x-tXtD0dz4.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],j=O("building-2",Q),le=({buildings:a})=>{const[b,n]=r.useState(!1),[c,x]=r.useState(!1),[f,u]=r.useState(null),[d,m]=r.useState(""),[h,N]=r.useState(""),y=a.length,v=a.reduce((s,t)=>s+t.rooms_count,0),w=a.reduce((s,t)=>s+t.users_count,0),B=23,C=()=>{x(!1),u(null),m(""),n(!0)},k=s=>{x(!0),u(s),m(s.name),n(!0)},T=()=>{if(c)setBuildings(a.map(s=>s.id===f.id?{...s,name:d}:s));else{const s={id:Math.max(...a.map(t=>t.id))+1,name:d,rooms_count:0,users_count:0};setBuildings([...a,s])}n(!1)},D=s=>{I({message:`Apakah Anda yakin ingin menghapus ${s.name}?`,header:"Konfirmasi Hapus",icon:"pi pi-exclamation-triangle",acceptLabel:"Hapus",rejectLabel:"Batal",acceptClassName:"p-button-danger",accept:()=>{setBuildings(a.filter(t=>t.id!==s.id))}})},z=s=>{L.get("/admin/penginapan/gedung/"+s.name)},S=s=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{icon:e.jsx(F,{size:16}),className:"p-button-rounded p-button-text p-button-sm",onClick:()=>k(s),tooltip:"Edit"}),e.jsx(l,{icon:e.jsx(J,{size:16}),className:"p-button-rounded p-button-text p-button-danger p-button-sm",onClick:()=>D(s),tooltip:"Hapus"})]}),M=s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100",children:e.jsx(j,{className:"text-emerald-600",size:20})}),e.jsx("div",{children:e.jsx("div",{className:"font-semibold text-gray-800",children:s.name})})]}),_=s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{size:16,className:"text-gray-500"}),e.jsxs("span",{className:"font-medium",children:[s.rooms_count," Kamar"]})]}),A=s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{size:16,className:"text-gray-500"}),e.jsxs("span",{className:"font-medium",children:[s.users_count," Orang"]})]}),G=s=>e.jsx(l,{label:"Lihat Detail",className:"p-button-sm p-button-outlined",onClick:()=>z(s)});return e.jsxs(P,{children:[e.jsx(H,{}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-800",children:"Manajemen Penginapan"}),e.jsx("p",{className:"text-gray-600",children:"Kelola gedung, kamar, dan penempatan peserta Munas"})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Gedung"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:y})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(j,{className:"text-blue-600",size:24})})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Kamar"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:v})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(p,{className:"text-purple-600",size:24})})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Sudah Terplotting"}),e.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:w})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-100",children:e.jsx(o,{className:"text-emerald-600",size:24})})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Belum Terplotting"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:B})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(o,{className:"text-orange-600",size:24})})]})})]}),e.jsx("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(l,{label:"Tambah Gedung Baru",icon:e.jsx(U,{size:16}),className:"p-button-success",onClick:C}),e.jsx(l,{label:"Lihat Peserta Belum Terplotting",icon:e.jsx(o,{size:16}),className:"p-button-warning",onClick:()=>console.log("Navigate to unassigned")})]})}),e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Daftar Gedung"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"p-input-icon-left",children:[e.jsx(V,{size:16,className:"text-gray-400"}),e.jsx(g,{placeholder:"Cari gedung...",value:h,onChange:s=>N(s.target.value),className:"p-inputtext-sm"})]})})]})}),e.jsxs(E,{value:a.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())),sortField:"name",sortOrder:1,emptyMessage:"Belum ada gedung. Tambahkan gedung pertama!",className:"text-sm",children:[e.jsx(i,{field:"name",header:"Nama Gedung",body:M,sortable:!0}),e.jsx(i,{field:"rooms_count",header:"Jumlah Kamar",body:_,sortable:!0}),e.jsx(i,{field:"users_count",header:"Jumlah Penghuni",body:A,sortable:!0}),e.jsx(i,{header:"Detail",body:G,style:{width:"150px"}}),e.jsx(i,{header:"Aksi",body:S,style:{width:"120px"}})]})]}),e.jsx(K,{header:c?"Edit Gedung":"Tambah Gedung Baru",visible:b,style:{width:"450px"},onHide:()=>n(!1),footer:e.jsxs("div",{children:[e.jsx(l,{label:"Batal",className:"p-button-text",onClick:()=>n(!1)}),e.jsx(l,{label:c?"Simpan":"Tambah",className:"p-button-success",onClick:T,disabled:!d.trim()})]}),children:e.jsx("div",{className:"flex flex-col gap-4 pt-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Nama Gedung ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{value:d,onChange:s=>m(s.target.value),placeholder:"Contoh: Gedung Aswad",className:"w-full",autoFocus:!0})]})})})]})};export{le as default};
