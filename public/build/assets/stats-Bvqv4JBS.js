import{r as d,a as h,j as e}from"./app-DCrvudyF.js";import{A as u}from"./avatar.esm-DW7pTILi.js";import{P as v}from"./chart.esm-r89-6c4G.js";import{C as y}from"./confirmdialog.esm-CgC0Qww9.js";import{U as w}from"./users-_aza2vxR.js";import{C}from"./circle-check-big-C_a7pXvt.js";import{C as k}from"./circle-x-Cx9OXZFA.js";import{C as z}from"./calendar-GP1F1Zhk.js";import{C as c}from"./clock-BsRfwlyf.js";import{M as D}from"./map-pin-DsC-QQKQ.js";import{F as A}from"./file-text-DJxCuXFb.js";import{C as P}from"./calendar-days-jiAvyi3i.js";/* empty css            */import"./button.esm-CE9Ab5Sn.js";import"./dialog.esm-Cb1Wt-W-.js";import"./overlayservice.esm-rO_vuS1N.js";import"./createLucideIcon-BOyUN_rG.js";const q=({meeting:a,attendances:t,schedule:g})=>{const m=t.length,l=t.filter(s=>s.attend!==null).length,n=m-l,o=t.filter(s=>s.attend!==null),[p,S]=d.useState("Hadir"),x=d.useRef(JSON.stringify(t));d.useEffect(()=>{const s=setInterval(async()=>{await h.reload({only:["attendances"],onSuccess:i=>{const r=JSON.stringify(i.props.attendances);r!==x.current&&(x.current=r)}})},5e3);return()=>clearInterval(s)},[]);const j={labels:["Hadir","Belum Hadir"],datasets:[{data:[l,n],backgroundColor:["#10b981","#f97316"],hoverBackgroundColor:["#059669","#ea580c"]}]},N={plugins:{legend:{position:"bottom"}}},f=()=>{switch(p){case"Hadir":return"Presensi Terakhir";case"Belum":return"Belum hadir";default:return"Semua Peserta"}};return e.jsxs("div",{className:"p-6",children:[e.jsx(y,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col gap-y-6",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Visualisasi Kehadiran"}),e.jsx(v,{type:"doughnut",data:j,options:N})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(w,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Peserta"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:m})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(C,{className:"text-emerald-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Sudah Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:l})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(k,{className:"text-orange-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Belum Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:n})]})]})})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{onClick:()=>h.get("/admin/kegiatan"),className:"mb-6 cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Tanggal"}),e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Waktu"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[a.start_time.slice(0,5)," - ",a.end_time.slice(0,5)]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-gray-800",children:a.room})]})]})]}),a.description&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"mt-1 text-gray-500",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Deskripsi"}),e.jsx("p",{className:"whitespace-pre-line text-gray-800",children:a.description})]})]})})]}),o.length>0&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"mb-4 flex justify-between gap-2 text-lg font-semibold text-gray-800",children:e.jsxs("h3",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"text-purple-600",size:20}),f()]})}),e.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto pr-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{label:s.name.charAt(0),size:"normal",shape:"circle",className:"bg-emerald-600 text-white"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.office.type," ",s.office.name]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:s.attend.slice(0,5)})})]},s.id))})]})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"max-h-screen overflow-y-scroll rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:g.map((s,i)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:s.date})]}),e.jsx("div",{className:"mb-6 space-y-2",children:s.activities.map((r,b)=>e.jsxs("div",{className:"pl-8",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:r.name}),e.jsx("div",{className:"mt-2 flex flex-col gap-4 text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{children:r.time})]})})]},b))})]},i))})})]})]})};export{q as default};
