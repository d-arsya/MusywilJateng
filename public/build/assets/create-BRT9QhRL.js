import{r as c,u as V,P as $,C as Y,b as W,O as f,c as E,D as S,j as e,a as z}from"./app-oFmHnumB.js";import{A as q}from"./admin-DtOnbPqy.js";import{T as G,B as K}from"./button.esm-rmNlvnSG.js";import{D as Q}from"./dropdown.esm-B2Sz0n6D.js";import{K as B,I as j}from"./inputtext.esm-S_y-q7fd.js";import{A as X}from"./arrow-left-D5QoH9Qe.js";import{F as N}from"./file-text-DsiiQc_w.js";import{C}from"./calendar-CH6FqwDr.js";import{C as I}from"./clock-uSwh3wHJ.js";import{M as T}from"./map-pin-BTmJg70d.js";import{S as Z}from"./save-iO_9cB7U.js";/* empty css            */import"./x-4teAICRY.js";import"./createLucideIcon-CdHWei9c.js";import"./overlayservice.esm-CJrtLjKC.js";function D(){return D=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)({}).hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},D.apply(null,arguments)}function y(n){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},y(n)}function ee(n,s){if(y(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,s);if(y(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}function te(n){var s=ee(n,"string");return y(s)=="symbol"?s:s+""}function ae(n,s,a){return(s=te(s))in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n}var se={root:function(s){var a=s.props,l=s.context,t=s.isFilled;return E("p-inputtextarea p-inputtext p-component",{"p-disabled":a.disabled,"p-filled":t,"p-inputtextarea-resizable":a.autoResize,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":l&&l.inputStyle==="filled"})}},ne=`
@layer primereact {
    .p-inputtextarea-resizable {
        overflow: hidden;
        resize: none;
    }
    
    .p-fluid .p-inputtextarea {
        width: 100%;
    }
}
`,w=Y.extend({defaultProps:{__TYPE:"InputTextarea",__parentMetadata:null,autoResize:!1,invalid:!1,variant:null,keyfilter:null,onBlur:null,onFocus:null,onBeforeInput:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0,className:null},css:{classes:se,styles:ne}});function F(n,s){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);s&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),a.push.apply(a,l)}return a}function R(n){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?F(Object(a),!0).forEach(function(l){ae(n,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(a,l))})}return n}var M=c.memo(c.forwardRef(function(n,s){var a=V(),l=c.useContext($),t=w.getProps(n,l),d=c.useRef(s),u=c.useRef(0),p=w.setMetaData(R(R({props:t},t.__parentMetadata),{},{context:{disabled:t.disabled}})),m=p.ptm,v=p.cx,k=p.isUnstyled;W(w.css.styles,k,{name:"inputtextarea"});var g=function(r){t.autoResize&&b(),t.onFocus&&t.onFocus(r)},P=function(r){t.autoResize&&b(),t.onBlur&&t.onBlur(r)},_=function(r){t.autoResize&&b(),t.onKeyUp&&t.onKeyUp(r)},i=function(r){t.onKeyDown&&t.onKeyDown(r),t.keyfilter&&B.onKeyPress(r,t.keyfilter,t.validateOnly)},O=function(r){t.onBeforeInput&&t.onBeforeInput(r),t.keyfilter&&B.onBeforeInput(r,t.keyfilter,t.validateOnly)},h=function(r){t.onPaste&&t.onPaste(r),t.keyfilter&&B.onPaste(r,t.keyfilter,t.validateOnly)},U=function(r){var o=r.target;t.autoResize&&b(f.isEmpty(o.value)),t.onInput&&t.onInput(r),f.isNotEmpty(o.value)?S.addClass(o,"p-filled"):S.removeClass(o,"p-filled")},b=function(r){var o=d.current;o&&A()&&(u.current||(u.current=o.scrollHeight,o.style.overflow="hidden"),(u.current!==o.scrollHeight||r)&&(o.style.height="",o.style.height=o.scrollHeight+"px",parseFloat(o.style.height)>=parseFloat(o.style.maxHeight)?(o.style.overflowY="scroll",o.style.height=o.style.maxHeight):o.style.overflow="hidden",u.current=o.scrollHeight))},A=function(){if(S.isVisible(d.current)){var r=d.current.getBoundingClientRect();return r.width>0&&r.height>0}return!1};c.useEffect(function(){f.combinedRefs(d,s)},[d,s]),c.useEffect(function(){t.autoResize&&b(!0)},[t.autoResize,t.value]);var H=c.useMemo(function(){return f.isNotEmpty(t.value)||f.isNotEmpty(t.defaultValue)},[t.value,t.defaultValue]),J=f.isNotEmpty(t.tooltip),L=a({ref:d,className:E(t.className,v("root",{context:l,isFilled:H})),onFocus:g,onBlur:P,onKeyUp:_,onKeyDown:i,onBeforeInput:O,onInput:U,onPaste:h},w.getOtherProps(t),m("root"));return c.createElement(c.Fragment,null,c.createElement("textarea",L),J&&c.createElement(G,D({target:d,content:t.tooltip,pt:m("tooltip")},t.tooltipOptions)))}));M.displayName="InputTextarea";const ie={id:2,title:"Rapat Dewan Pengawas",date:"2025-11-21",time_start:"14:00",time_end:"16:00",location:"Ruang Angsana",description:"Rapat koordinasi dewan pengawas",status:"ongoing"},ve=({isEdit:n=!1,meetingId:s=2})=>{const[a,l]=c.useState({title:"",date:"",time_start:"",time_end:"",location:"",description:"",status:"upcoming"}),[t,d]=c.useState({}),[u,p]=c.useState(!1);c.useEffect(()=>{n&&s&&l(ie)},[n,s]);const m=(i,O)=>{l(h=>({...h,[i]:O})),t[i]&&d(h=>({...h,[i]:null}))},v=()=>{const i={};return a.title.trim()||(i.title="Judul kegiatan wajib diisi"),a.date||(i.date="Tanggal wajib diisi"),a.time_start||(i.time_start="Jam mulai wajib diisi"),a.time_end||(i.time_end="Jam selesai wajib diisi"),a.time_start&&a.time_end&&a.time_start>=a.time_end&&(i.time_end="Jam selesai harus lebih besar dari jam mulai"),a.location.trim()||(i.location="Lokasi wajib diisi"),d(i),Object.keys(i).length===0},k=()=>{v()&&(p(!0),setTimeout(()=>{console.log("Submit data:",a),alert(n?"Kegiatan berhasil diupdate!":"Kegiatan berhasil dibuat!"),p(!1),g()},1e3))},g=()=>{z.get("/admin/kegiatan")},P=()=>{v()&&(p(!0),setTimeout(()=>{console.log("Submit data:",a),console.log("Navigate to assign participants page"),p(!1),z.get("/admin/kegiatan/assign")},1e3))},_=[{label:"Belum Dimulai",value:"upcoming"},{label:"Sedang Berlangsung",value:"ongoing"},{label:"Selesai",value:"completed"}];return e.jsxs(q,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:g,className:"mb-4 flex items-center gap-2 text-emerald-600 hover:text-emerald-700",children:[e.jsx(X,{size:20}),e.jsx("span",{className:"font-medium",children:"Kembali ke Dashboard"})]}),e.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"Dashboard"}),e.jsx("span",{children:"›"}),e.jsx("span",{className:"font-medium text-gray-800",children:n?"Edit Kegiatan":"Tambah Kegiatan Baru"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n?"Edit Kegiatan":"Tambah Kegiatan Baru"})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Judul Kegiatan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("span",{className:"p-inputgroup-addon",children:e.jsx(N,{size:16})}),e.jsx(j,{value:a.title,onChange:i=>m("title",i.target.value),placeholder:"Contoh: Pembukaan Munas VI",className:`w-full ${t.title?"p-invalid":""}`})]}),t.title&&e.jsx("small",{className:"mt-1 block text-red-500",children:t.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Tanggal ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("span",{className:"p-inputgroup-addon",children:e.jsx(C,{size:16})}),e.jsx(j,{type:"date",value:a.date,onChange:i=>m("date",i.target.value),className:`w-full ${t.date?"p-invalid":""}`})]}),t.date&&e.jsx("small",{className:"mt-1 block text-red-500",children:t.date})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Q,{value:a.status,options:_,onChange:i=>m("status",i.value),placeholder:"Pilih status",className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Jam Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("span",{className:"p-inputgroup-addon",children:e.jsx(I,{size:16})}),e.jsx(j,{type:"time",value:a.time_start,onChange:i=>m("time_start",i.target.value),className:`w-full ${t.time_start?"p-invalid":""}`})]}),t.time_start&&e.jsx("small",{className:"mt-1 block text-red-500",children:t.time_start})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Jam Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("span",{className:"p-inputgroup-addon",children:e.jsx(I,{size:16})}),e.jsx(j,{type:"time",value:a.time_end,onChange:i=>m("time_end",i.target.value),className:`w-full ${t.time_end?"p-invalid":""}`})]}),t.time_end&&e.jsx("small",{className:"mt-1 block text-red-500",children:t.time_end})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Lokasi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("span",{className:"p-inputgroup-addon",children:e.jsx(T,{size:16})}),e.jsx(j,{value:a.location,onChange:i=>m("location",i.target.value),placeholder:"Contoh: Aula Utama",className:`w-full ${t.location?"p-invalid":""}`})]}),t.location&&e.jsx("small",{className:"mt-1 block text-red-500",children:t.location})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Deskripsi (Opsional)"}),e.jsx(M,{value:a.description,onChange:i=>m("description",i.target.value),placeholder:"Tambahkan deskripsi atau catatan tambahan...",rows:4,className:"w-full"})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-blue-100",children:e.jsx(N,{className:"text-blue-600",size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-blue-800",children:"Informasi"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-700",children:[e.jsx("li",{children:"• Kegiatan dapat diedit kapan saja, bahkan setelah ada peserta yang assigned atau check-in"}),e.jsx("li",{children:"• Kegiatan hanya bisa dihapus jika belum ada peserta yang hadir (check-in)"}),e.jsx("li",{children:"• Status dapat diubah sesuai kondisi kegiatan: Belum Dimulai, Sedang Berlangsung, atau Selesai"})]})]})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx(K,{label:"Batal",className:"p-button-text",onClick:g,disabled:u}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{label:n?"Simpan Perubahan":"Simpan",icon:e.jsx(Z,{size:16}),className:"p-button-outlined",onClick:k,loading:u}),!n&&e.jsx(K,{label:"Simpan & Lanjut Plot Peserta",icon:"pi pi-arrow-right",iconPos:"right",className:"p-button-success",onClick:P,loading:u})]})]})]}),a.title&&e.jsxs("div",{className:"mt-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Preview Kegiatan"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"mt-1 text-gray-500",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Judul"}),e.jsx("p",{className:"font-semibold text-gray-800",children:a.title||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"mt-1 text-gray-500",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal & Waktu"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[a.date?new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"-",a.time_start&&a.time_end&&e.jsxs("span",{className:"ml-2",children:["(",a.time_start," - ",a.time_end,")"]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"mt-1 text-gray-500",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-gray-800",children:a.location||"-"})]})]}),a.description&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"mt-1 text-gray-500",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Deskripsi"}),e.jsx("p",{className:"text-gray-800",children:a.description})]})]})]})]})]})};export{ve as default};
