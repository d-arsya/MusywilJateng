import{r as s,u as h,j as r}from"./app-BhOyqKaQ.js";import{P as x}from"./public-cXlnGDaT.js";/* empty css            */import"./header-DQSemKTs.js";import"./x-2m8yl4VV.js";import"./createLucideIcon-ByOhP9qe.js";function C({offices:i,employments:d}){const[b,u]=s.useState(null),{data:a,setData:o,post:c,transform:p}=h({name:"",phone:"",office:"",employment:"",arrive:"",depart:"",capsize:"",avatar:null});p(e=>({...e,employment_id:e.employment,office_id:e.office,phone:e.phone.startsWith("0")?"62"+e.phone.slice(1):e.phone}));function g(e){e.preventDefault(),c("/register",{onError:l=>{console.log(a),console.log("Validation Errors:",l)},onSuccess:()=>console.log("SUCCESS")})}const[t,m]=s.useState(null),f=e=>{e.target.files&&e.target.files[0]&&(o("avatar",e.target.files[0]),u(e.target.files[0]),m(URL.createObjectURL(e.target.files[0])))};return r.jsx(x,{children:r.jsxs("form",{onSubmit:g,className:"w-full max-w-2xl space-y-6 overflow-auto rounded-xl border border-gray-200 bg-white p-8 shadow-xl",children:[r.jsx("h1",{className:"text-center text-3xl font-bold text-emerald-800",children:"Registrasi Peserta"}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsxs("label",{className:"flex h-32 w-32 cursor-pointer items-center justify-center overflow-hidden rounded-full border-2 border-dashed border-emerald-400",children:[t?r.jsx("img",{src:t,alt:"Preview",className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-center text-sm text-emerald-400",children:"Upload Foto"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:f})]})}),r.jsx("input",{value:a.name,onChange:e=>o("name",e.target.value),type:"text",placeholder:"Nama Lengkap",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-700 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"}),r.jsx("input",{value:a.phone,onChange:e=>o("phone",e.target.value),type:"tel",placeholder:"Nomor HP",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-700 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"}),r.jsxs("select",{value:a.office,onChange:e=>o("office",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Utusan"}),Object.entries(i).map(([e,l])=>r.jsx("optgroup",{label:e,children:l.map(n=>r.jsx("option",{value:n.id,children:n.name},n.id))},e))]}),r.jsxs("select",{value:a.employment,onChange:e=>o("employment",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Jabatan"}),d.map(e=>r.jsx("option",{value:e.id,children:e.name}))]}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-3",children:[r.jsxs("div",{className:"",children:[r.jsx("h1",{className:"mb-2",children:"Kedatangan"}),r.jsx("input",{value:a.arrive,onChange:e=>o("arrive",e.target.value),type:"date",placeholder:"Tanggal Kedatangan",className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"mb-2",children:"Kepulangan"}),r.jsx("input",{value:a.depart,onChange:e=>o("depart",e.target.value),type:"date",placeholder:"Tanggal Kepulangan",className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"})]})]}),r.jsxs("select",{value:a.capsize,onChange:e=>o("capsize",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Ukuran Peci"}),[...Array(8)].map((e,l)=>{const n=l+5;return r.jsx("option",{value:n,children:n},n)})]}),r.jsx("button",{type:"submit",className:"w-full rounded-lg bg-emerald-700 py-3 font-semibold text-white transition duration-200 hover:bg-emerald-600",children:"Daftar"})]})})}export{C as default};
