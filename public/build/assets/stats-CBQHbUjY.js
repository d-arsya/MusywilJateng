import{r as u,j as e,a as n}from"./app-v7gS-8F0.js";import{A as v}from"./avatar.esm-DX0XoNrz.js";import{P as y}from"./chart.esm-RMIOh759.js";import{C as w}from"./confirmdialog.esm-IwiFL8_q.js";import{S as C}from"./selectbutton.esm-DRZSE1Xi.js";import{U as k}from"./users-BkKnLEsp.js";import{C as z}from"./circle-check-big-D_AZ5dC3.js";import{C as B}from"./circle-x-CdpGHhl4.js";import{C as D}from"./calendar-D87GHwu6.js";import{C as t}from"./clock-B9gyp0cI.js";import{M as H}from"./map-pin-C3EVSNor.js";import{F as S}from"./file-text-DSLgrguP.js";import{C as A}from"./calendar-days-CBAiD2gD.js";/* empty css            */import"./button.esm-DIsM7gV4.js";import"./dialog.esm-nPoKIl2D.js";import"./overlayservice.esm-I8DiZ9o2.js";import"./createLucideIcon-DbphwWoN.js";const Y=({meeting:a,attendances:r,schedule:x})=>{const i=r.length,l=r.filter(s=>s.attend!==null).length,d=i-l,c=r.filter(s=>s.attend!==null),[m,h]=u.useState("Hadir"),g={labels:["Hadir","Belum Hadir"],datasets:[{data:[l,d],backgroundColor:["#10b981","#f97316"],hoverBackgroundColor:["#059669","#ea580c"]}]},p={plugins:{legend:{position:"bottom"}}};setInterval(()=>{n.reload({attendances:r})},15e3);const j=[{label:"Semua",value:"Semua"},{label:"Hadir",value:"Hadir"},{label:"Belum",value:"Belum"}],N=()=>{switch(m){case"Hadir":return"Presensi Terakhir";case"Belum":return"Belum hadir";default:return"Semua Peserta"}};return e.jsxs("div",{className:"p-6",children:[e.jsx(w,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"col-span-1 flex flex-col gap-y-6",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Visualisasi Kehadiran"}),e.jsx(y,{type:"doughnut",data:g,options:p})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(k,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Peserta"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:i})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(z,{className:"text-emerald-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Sudah Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:l})]})]})}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(B,{className:"text-orange-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Belum Hadir"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:d})]})]})})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{onClick:()=>n.get("/admin/kegiatan"),className:"mb-6 cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Tanggal"}),e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(t,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Waktu"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[a.start_time.slice(0,5)," - ",a.end_time.slice(0,5)]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"mt-1 text-emerald-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-gray-800",children:a.room})]})]})]}),a.description&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"mt-1 text-gray-500",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Deskripsi"}),e.jsx("p",{className:"text-gray-800",children:a.description})]})]})})]}),c.length>0&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex justify-between gap-2 text-lg font-semibold text-gray-800",children:[e.jsxs("h3",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"text-purple-600",size:20}),N()]}),e.jsx(C,{value:m,onChange:s=>{console.log(s.value),h(s.value)},options:j})]}),e.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto pr-2",children:c.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{label:s.name.charAt(0),size:"normal",shape:"circle",className:"bg-emerald-600 text-white"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.office.type," ",s.office.name]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:s.attend.slice(0,5)})})]},s.id))})]})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"max-h-screen overflow-y-scroll rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:x.map((s,b)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:s.date})]}),e.jsx("div",{className:"mb-6 space-y-2",children:s.activities.map((o,f)=>e.jsxs("div",{className:"pl-8",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:o.name}),e.jsx("div",{className:"mt-2 flex flex-col gap-4 text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(t,{className:"h-4 w-4"}),e.jsx("span",{children:o.time})]})})]},f))})]},b))})})]})]})};export{Y as default};
