import{r as s,u as h,j as r}from"./app-BIeTNDOO.js";import{P as x}from"./public-D06VzNB-.js";/* empty css            */import"./header-DPVIEg59.js";import"./x-Dw_Ne8EM.js";import"./createLucideIcon-Drmq1AoT.js";function C({offices:i,employments:u}){const[b,d]=s.useState(null),{data:o,setData:a,post:c,transform:p}=h({name:"",phone:"",office:"",employment:"",arrive:"",depart:"",capsize:"",avatar:null});p(e=>({...e,employment_id:e.employment,office_id:e.office,phone:e.phone.startsWith("0")?"62"+e.phone.slice(1):e.phone}));function g(e){e.preventDefault(),c("/register",{onError:t=>{console.log(o),console.log("Validation Errors:",t)},onSuccess:()=>console.log("SUCCESS")})}const[l,f]=s.useState(null),m=e=>{e.target.files&&e.target.files[0]&&(a("avatar",e.target.files[0]),d(e.target.files[0]),f(URL.createObjectURL(e.target.files[0])))};return r.jsx(x,{children:r.jsxs("form",{onSubmit:g,className:"w-full max-w-2xl space-y-6 overflow-auto rounded-xl border border-gray-200 bg-white p-8 shadow-xl",children:[r.jsx("h1",{className:"text-center text-3xl font-bold text-emerald-800",children:"Registrasi Peserta"}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsxs("label",{className:"flex h-32 w-32 cursor-pointer items-center justify-center overflow-hidden rounded-full border-2 border-dashed border-emerald-400",children:[l?r.jsx("img",{src:l,alt:"Preview",className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-center text-sm text-emerald-400",children:"Upload Foto"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m})]})}),r.jsx("input",{value:o.name,onChange:e=>a("name",e.target.value),type:"text",placeholder:"Nama Lengkap",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-700 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"}),r.jsx("input",{value:o.phone,onChange:e=>a("phone",e.target.value),type:"tel",placeholder:"Nomor HP",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-700 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"}),r.jsxs("select",{value:o.office,onChange:e=>a("office",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Utusan"}),Object.entries(i).map(([e,t])=>r.jsx("optgroup",{label:e,children:t.map(n=>r.jsx("option",{value:n.id,children:n.name},n.id))},e))]}),r.jsxs("select",{value:o.employment,onChange:e=>a("employment",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Jabatan"}),u.map(e=>r.jsx("option",{value:e.id,children:e.name}))]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{value:o.arrive,onChange:e=>a("arrive",e.target.value),type:"date",placeholder:"Tanggal Kedatangan",className:"w-1/2 rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"}),r.jsx("input",{value:o.depart,onChange:e=>a("depart",e.target.value),type:"date",placeholder:"Tanggal Kepulangan",className:"w-1/2 rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none"})]}),r.jsxs("select",{value:o.capsize,onChange:e=>a("capsize",e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 transition duration-200 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Pilih Ukuran Peci"}),[...Array(8)].map((e,t)=>{const n=t+5;return r.jsx("option",{value:n,children:n},n)})]}),r.jsx("button",{type:"submit",className:"w-full rounded-lg bg-emerald-700 py-3 font-semibold text-white transition duration-200 hover:bg-emerald-600",children:"Daftar"})]})})}export{C as default};
