import{r as i,b as te,P as re,C as ne,l as J,c as ae,i as oe,h as ce,k as ie,D as le,O as k,I as se,d as y}from"./app-Cnw8OhB3.js";import{B as X}from"./button.esm-C90aItML.js";import{D as ue}from"./dialog.esm-C2wjPLsV.js";import{O as h}from"./overlayservice.esm-D5EmMDit.js";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H.apply(null,arguments)}function fe(e){if(Array.isArray(e))return e}function pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,o,m,g,u=[],v=!0,w=!1;try{if(m=(r=r.call(e)).next,t!==0)for(;!(v=(a=m.call(r)).done)&&(u.push(a.value),u.length!==t);v=!0);}catch(E){w=!0,o=E}finally{try{if(!v&&r.return!=null&&(g=r.return(),Object(g)!==g))return}finally{if(w)throw o}}return u}}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function me(e,t){if(e){if(typeof e=="string")return W(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}function ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y(e,t){return fe(e)||pe(e,t)||me(e,t)||ge()}function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function ve(e,t){if(C(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(C(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e){var t=ve(e,"string");return C(t)=="symbol"?t:t+""}function de(e,t,r){return(t=be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye={root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(t){var r=t.getPropValue;return y("p-confirm-dialog-reject",{"p-button-text":!r("rejectClassName")})}},x=ne.extend({defaultProps:{__TYPE:"ConfirmDialog",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,breakpoints:null,children:void 0,className:null,content:null,defaultFocus:"accept",footer:null,icon:null,message:null,onHide:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,tagKey:void 0,visible:void 0},css:{classes:ye}});function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(a){de(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var Ce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t=j(j({},t),{visible:t.visible===void 0?!0:t.visible}),t.visible&&h.emit("confirm-dialog",t);var r=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h.emit("confirm-dialog",j(j(j({},t),m),{visible:!0}))},a=function(){h.emit("confirm-dialog",{visible:!1})};return{show:r,hide:a}},je=i.memo(i.forwardRef(function(e,t){var r=te(),a=i.useContext(re),o=x.getProps(e,a),m=i.useState(o.visible),g=Y(m,2),u=g[0],v=g[1],w=i.useState(!1),E=Y(w,2),U=E[0],z=E[1],P=i.useRef(null),O=i.useRef(!1),I=i.useRef(null),N=function(){var n=o.group;return P.current&&(n=P.current.group),Object.assign({},o,P.current,{group:n})},c=function(n){return N()[n]},T=function(n){for(var s=arguments.length,f=new Array(s>1?s-1:0),p=1;p<s;p++)f[p-1]=arguments[p];return k.getPropValue(c(n),f)},V=c("acceptLabel")||J("accept"),M=c("rejectLabel")||J("reject"),_={props:o,state:{visible:u}},A=x.setMetaData(_),b=A.ptm,S=A.cx,G=A.isUnstyled;ae(x.css.styles,G,{name:"confirmdialog"});var $=function(){O.current||(O.current=!0,T("accept"),d("accept"))},K=function(){O.current||(O.current=!0,T("reject"),d("reject"))},R=function(){var n=N();n.group===o.group&&(v(!0),O.current=!1,I.current=document.activeElement)},d=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";u&&(typeof n!="string"&&(n="cancel"),v(!1),T("onHide",n),le.focus(I.current),I.current=null)},D=function(n){if(n.tagKey===o.tagKey){var s=u!==n.visible,f=c("target")!==n.target;f&&!o.target?(d(),P.current=n,z(!0)):s&&(P.current=n,n.visible?R():d())}};i.useEffect(function(){o.visible?R():d()},[o.visible]),i.useEffect(function(){return!o.target&&!o.message&&h.on("confirm-dialog",D),function(){h.off("confirm-dialog",D)}},[o.target]),oe(function(){U&&R()},[U]),ce(function(){h.off("confirm-dialog",D)}),i.useImperativeHandle(t,function(){return{props:o,confirm:D}});var Q=function(){var n=c("defaultFocus"),s=y("p-confirm-dialog-accept",c("acceptClassName")),f=y("p-confirm-dialog-reject",{"p-button-text":!c("rejectClassName")},c("rejectClassName")),p=r({label:M,autoFocus:n==="reject",icon:c("rejectIcon"),className:y(c("rejectClassName"),S("rejectButton",{getPropValue:c})),onClick:K,pt:b("rejectButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},b("rejectButton")),F=r({label:V,autoFocus:n===void 0||n==="accept",icon:c("acceptIcon"),className:y(c("acceptClassName"),S("acceptButton")),onClick:$,pt:b("acceptButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},b("acceptButton")),B=i.createElement(i.Fragment,null,i.createElement(X,p),i.createElement(X,F));if(c("footer")){var L={accept:$,reject:K,acceptClassName:s,rejectClassName:f,acceptLabel:V,rejectLabel:M,element:B,props:N()};return k.getJSXElement(c("footer"),L)}return B},Z=function(){var n=N(),s=k.getJSXElement(c("message"),n),f=r({className:S("icon")},b("icon")),p=se.getJSXIcon(c("icon"),j({},f),{props:n}),F=Q(),B=r({className:S("message")},b("message")),L=r({visible:u,className:y(c("className"),S("root")),footer:F,onHide:d,breakpoints:c("breakpoints"),pt:n.pt,unstyled:o.unstyled,appendTo:c("appendTo"),__parentMetadata:{parent:_}},x.getOtherProps(n));return i.createElement(ue,H({},L,{content:e?.content}),p,i.createElement("span",B,s))},ee=Z();return i.createElement(ie,{element:ee,appendTo:c("appendTo")})}));je.displayName="ConfirmDialog";export{je as C,Ce as c};
